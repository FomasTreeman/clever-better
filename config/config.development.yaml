# Development Configuration
# Use this configuration for local development
# Override values with environment variables: CLEVER_BETTER_<FIELD_PATH>

# =============================================================================
# Application Settings
# =============================================================================
app:
  name: clever-better
  environment: development
  log_level: debug  # Verbose logging for development

# =============================================================================
# Database Configuration
# =============================================================================
database:
  host: localhost
  port: 5432
  name: clever_better_dev
  user: postgres
  password: ${DB_PASSWORD:-development_password}  # Default for local dev
  ssl_mode: disable  # SSL disabled for local development
  max_connections: 10
  max_idle_connections: 2

# =============================================================================
# Betfair API Configuration
# =============================================================================
betfair:
  api_url: https://api.betfair.com/exchange/betting/rest/v1.0
  stream_url: stream-api.betfair.com:443
  app_key: ${BETFAIR_APP_KEY}
  username: ${BETFAIR_USERNAME}
  password: ${BETFAIR_PASSWORD}
  cert_file: ${BETFAIR_CERT_FILE}
  key_file: ${BETFAIR_KEY_FILE}

# =============================================================================
# ML Service Configuration
# =============================================================================
ml_service:
  url: http://localhost:8000
  grpc_address: localhost:50051
  timeout_seconds: 30
  retry_attempts: 3

# =============================================================================
# Trading Configuration
# =============================================================================
trading:
  # Risk Management - Conservative for development
  max_stake_per_bet: 1.00
  max_daily_loss: 10.00
  max_exposure: 50.00

  # Strategy Settings
  min_confidence_threshold: 0.65
  min_expected_value: 0.02

  # Market Selection
  markets:
    - WIN
    - PLACE

  # Time Settings
  pre_race_window_minutes: 30
  min_time_to_start_seconds: 60

# =============================================================================
# Backtesting Configuration
# =============================================================================
backtest:
  start_date: "2023-01-01"
  end_date: "2024-01-01"
  initial_bankroll: 1000.00
  monte_carlo_iterations: 1000
  walk_forward_windows: 12

# =============================================================================
# Data Ingestion Configuration
# =============================================================================
data_ingestion:
  sources:
    - name: betfair_historical
      enabled: true
      batch_size: 500
    - name: racing_post
      enabled: false
      api_key: ${RACING_POST_API_KEY}

  schedule:
    historical_sync: "0 2 * * *"  # Daily at 2 AM
    live_polling_interval_seconds: 5

# =============================================================================
# Metrics and Monitoring
# =============================================================================
metrics:
  enabled: true
  port: 9090
  path: /metrics

# =============================================================================
# Feature Flags
# =============================================================================
features:
  live_trading_enabled: false  # Never enable in development
  paper_trading_enabled: true  # Use paper trading for testing
  ml_predictions_enabled: true
  advanced_analytics_enabled: true  # Enable for development insights
